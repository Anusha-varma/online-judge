{% extends 'base.html' %}

{% block content %}

<!-- Main Section -->
<div class="container mx-auto px-4 py-20 flex flex-col md:flex-row items-center justify-between gap-12 animate-fade-in-down">

  <!-- Left: Welcome Text -->
  <div class="md:w-1/2 text-center md:text-left space-y-6">
    <h1 class="text-5xl font-bold text-indigo-400 drop-shadow-md">Welcome to <span class="text-purple-500">Online Judge</span></h1>
    <p class="text-lg text-gray-300 leading-relaxed">Solve algorithmic challenges, sharpen your skills, and track your coding progress.</p>

    <a href="#" class="inline-block px-8 py-3 mt-4 rounded-lg bg-gradient-to-r from-indigo-500 to-purple-600 text-white font-semibold text-lg shadow-lg transform hover:scale-105 transition duration-300 hover:shadow-2xl" onclick="handleProtectedLink(event, '{% url 'problems_list' %}', '{{ user.is_authenticated|yesno:"true,false" }}')"
    >Start Exploring</a>

    {% if not user.is_authenticated %}
    <!-- Leaderboard (shown below for guests) -->
    <div class="mt-10">
      
      {% if last_contest %}
  <div class="mt-10 text-center text-white">
    <h2 class="text-2xl font-bold text-indigo-400 mb-1">ğŸ† Leaderboard: {{ last_contest.name }}</h2>
    <p class="text-sm text-gray-400">Held on {{ last_contest.start_time|date:"M d, Y H:i" }}</p>
  </div>
{% endif %}

      {% include 'Leaderboard.html' %}
    </div>
    {% endif %}
  </div>

  <!-- Right: Login/Register or Leaderboard -->
  <div class="w-full md:w-1/2 animate-fade-in-up">
    {% if not user.is_authenticated %}
      {% if show == 'login' or request.GET.show == 'login' %}
        {% include 'Login.html' %}
      {% else %}
        {% include 'Register.html' %}
      {% endif %}
    {% else %}
      <!-- Leaderboard for logged-in users beside welcome -->
      <div class="bg-gray-900 p-6 rounded-xl shadow-lg">{% if last_contest %}
  <div class="mt-10 text-center text-white">
    <h2 class="text-2xl font-bold text-indigo-400 mb-1">ğŸ† Leaderboard: {{ last_contest.name }}</h2>
    <p class="text-sm text-gray-400">Held on {{ last_contest.start_time|date:"M d, Y H:i" }}</p>
  </div>
{% endif %}

        {% include 'Leaderboard.html' %}
      </div>
    {% endif %}
  </div>
</div>

<!-- Additional Highlights Section -->
<div class="mt-20">

  
  <div class="text-center mb-12">
   <h2 class="text-3xl font-bold text-indigo-400 mb-4">ğŸ’¡ Why Choose Our Judge?</h2>
    <p class="text-gray-400 max-w-2xl mx-auto text-lg">
      Whether you're preparing for coding interviews, improving logic, or competing in contests, our platform provides
      everything you need â€” all in one place.
    </p>
  </div>

  <div class="grid grid-cols-1 md:grid-cols-3 gap-8 animate-fade-in-up">
    <div class="bg-gradient-to-tr from-indigo-800 to-purple-900 rounded-xl p-6 shadow-xl hover:scale-105 transition">
     <h3 class="text-xl font-semibold text-indigo-400 mb-2">ğŸ§  Smart Challenges</h3>
      <p class="text-gray-300">A curated set of algorithmic problems across difficulty levels and domains.</p>
    </div>

    <div class="bg-gradient-to-tr from-purple-800 to-pink-900 rounded-xl p-6 shadow-xl hover:scale-105 transition">
     <h3 class="text-xl font-semibold text-green-400 mb-2">âš™ï¸ Instant Feedback</h3>
      <p class="text-gray-300">Run your code and get results immediately with detailed verdicts.</p>
   </div>

    <div class="bg-gradient-to-tr from-yellow-700 to-red-800 rounded-xl p-6 shadow-xl hover:scale-105 transition">
      <h3 class="text-xl font-semibold text-yellow-400 mb-2">ğŸ³ Dockerized</h3>
      <p class="text-gray-300">Each submission runs securely in isolated Docker containers.</p>
    </div>

    <div class="bg-gradient-to-tr from-red-900 to-green-800 rounded-xl p-6 shadow-xl hover:scale-105 transition">
        <h3 class="text-xl font-semibold text-pink-400 mb-2">ğŸ Contest Mode</h3>
      <p class="text-gray-300">Participate in live contests and track your performance on leaderboards.</p>
    </div>  </div>
  


{% endblock %}
